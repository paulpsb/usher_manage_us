<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.usher.dao.NoticesRoutineTransCoursegroupMonthlyDao">
	<select id="getNoticesRoutineTransCoursegroupMonthlyGroupList" resultType="com.usher.dto.NoticesRoutineTransCoursegroupMonthlyDto" parameterType="com.usher.dto.NoticesRoutineTransCoursegroupMonthlyDto">
		select
			test_type, 
			student_type, 
			lecture_type, 
			routine_schedule,
			routine_course_group_schedule
		from 
			notices_routine_trans_coursegroup_monthly
		where
			test_type = #{test_type} 
			and student_type = #{student_type}
			and lecture_type = #{lecture_type}
		group by test_type, student_type, lecture_type, routine_schedule, routine_course_group_schedule
		order by test_type, student_type desc , lecture_type, routine_schedule
	</select>

	<select id="getNoticesRoutineTransCoursegroupMonthlyList" resultType="com.usher.dto.NoticesRoutineTransCoursegroupMonthlyDto" parameterType="com.usher.dto.NoticesRoutineTransCoursegroupMonthlyDto">
		select
			id,
			test_type, 
			student_type, 
			lecture_type, 
			routine_schedule, 
			routine_course_group_schedule,
			routine_day,
			routine_start_day,
			routine_end_day
		from 
			notices_routine_trans_coursegroup_monthly
		where
			test_type = #{test_type} 
			and student_type = #{student_type}
			and lecture_type = #{lecture_type}
		order by test_type, student_type desc , lecture_type, routine_schedule, routine_day
	</select>

	<select id="getNoticesRoutineTransCoursegroupMonthlyAsGroupList" resultType="com.usher.dto.NoticesRoutineTransCoursegroupMonthlyDto" parameterType="com.usher.dto.NoticesRoutineTransCoursegroupMonthlyDto">
		select
			id,
			test_type, 
			student_type, 
			lecture_type, 
			routine_schedule, 
			routine_course_group_schedule,
			routine_day,
			routine_start_day,
			routine_end_day
		from 
			notices_routine_trans_coursegroup_monthly
		where
			test_type = #{test_type} 
			and student_type = #{student_type}
			and lecture_type = #{lecture_type}
			and routine_schedule = #{routine_schedule}
		order by test_type, student_type desc , lecture_type, routine_schedule, routine_day
	</select>

	<insert id="insertNoticesRoutineTransCoursegroupMonthly" parameterType="com.usher.dto.NoticesRoutineTransCoursegroupMonthlyDto" useGeneratedKeys="true" keyProperty="id" >
		insert into notices_routine_trans_coursegroup_monthly (
			created,
			modified,
			test_type,
		    student_type,
		    lecture_type,
		    routine_schedule, 
		    routine_course_group_schedule,
			routine_day,
			routine_start_day,
			routine_end_day
		) values (
			now(),
			now(),
			#{test_type},
		    #{student_type},
		    #{lecture_type},
		    #{routine_schedule},
		    #{routine_course_group_schedule},
		    #{routine_day},
		    #{routine_start_day},
		    #{routine_end_day}
		)
	</insert>
	<delete id="deleteNoticesRoutineTransCoursegroupMonthly" parameterType="com.usher.dto.NoticesRoutineTransCoursegroupMonthlyDto">
		delete from notices_routine_trans_coursegroup_monthly 
		where
			test_type = #{test_type} 
			and student_type = #{student_type}
			and lecture_type = #{lecture_type}
			and routine_schedule = #{routine_schedule}
	</delete>
</mapper>