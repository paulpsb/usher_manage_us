<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.usher.dao.NoticesRoutineTransCoursegroupDetailDao">
	<select id="getRoutineTransCoursegroupDetailList" resultType="com.usher.dto.NoticesRoutineTransCoursegroupDetailDto" parameterType="com.usher.dto.NoticesRoutineTransCoursegroupDetailDto">
		select
		    a.id,
		    a.routine_day,
		    a.routine_date,
		    a.routine_start_time,
		    a.routine_trans_coursegroup_id,
		    a.routine_id,
			b.routine_title
		from
			notices_routine_trans_coursegroup_detail a
			join notices_routine b on a.routine_id = b.id
		where
			a.routine_trans_coursegroup_id = #{routine_trans_coursegroup_id}
		order by id
	</select>

	<insert id="insertRoutineTransCoursegroupDetail" parameterType="com.usher.dto.NoticesRoutineTransCoursegroupDetailDto" useGeneratedKeys="true" keyProperty="id" >
		insert into notices_routine_trans_coursegroup_detail (
			created,
			modified,
			routine_day,
		    routine_date,
		    routine_start_time,
		    routine_trans_coursegroup_id,
		    routine_id
		) values (
			now(),
			now(),
			#{routine_day},
		    #{routine_date},
		    #{routine_start_time},
		    #{routine_trans_coursegroup_id},
		    #{routine_id}
		)
	</insert>
	<delete id="deleteRoutineTransCoursegroupDetail" parameterType="com.usher.dto.NoticesRoutineTransCoursegroupDetailDto">
		delete from notices_routine_trans_coursegroup_detail 
		where
			id = #{id}
	</delete>
</mapper>