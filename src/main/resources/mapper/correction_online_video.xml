<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.usher.dao.CorrectionOnlineVideoDao">
	<select id="getCorrectionOnlineVideoList" parameterType="com.usher.dto.CorrectionOnlineVideoDto" resultType="com.usher.dto.CorrectionOnlineVideoDto">
		select
			id,
			to_char(created,'yyyy-mm-dd hh24:mi:ss') as created,
			to_char(modified,'yyyy-mm-dd hh24:mi:ss') as modified,
			practice_problem_id,
			online_lesson_title,
			online_lesson_video,
			online_lesson_time,
			online_lesson_sort
		from
			correction_online_video
		where
			practice_problem_id = #{practice_problem_id}
		order by online_lesson_sort
	</select>
	<insert id="insertCorrectionOnlineVideo" parameterType="com.usher.dto.CorrectionOnlineVideoDto">
		insert into correction_online_video(
			created,
			modified,
			practice_problem_id,
			online_lesson_title,
			online_lesson_video,
			online_lesson_time,
			online_lesson_sort
		)values(
			now(),
			now(),
			#{practice_problem_id},
			#{online_lesson_title},
			#{online_lesson_video},
			#{online_lesson_time},
			#{online_lesson_sort}
		)
	</insert>
	<update id="updateCorrectionOnlineVideo" parameterType="com.usher.dto.CorrectionOnlineVideoDto">
		update correction_online_video set
			modified = now(),
			online_lesson_title = #{online_lesson_title},
			online_lesson_video = #{online_lesson_video},
			online_lesson_time = #{online_lesson_time},
			online_lesson_sort = #{online_lesson_sort}
		where
			id = #{id}		
	</update>
	<update id="deleteCorrectionOnlineVideo" parameterType="com.usher.dto.CorrectionOnlineVideoDto">
		delete from correction_online_video
		where
			id = #{id}		
	</update>
</mapper>